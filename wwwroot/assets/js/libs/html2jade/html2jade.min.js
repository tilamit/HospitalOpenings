(function(){var t,e,n,r,i,o,l,s,u,a,p,h,c,d,f,w,m,g,v,y,T,x,b={}.hasOwnProperty,D=function(t,e){function n(){this.constructor=t}for(var r in e)b.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=!1,"undefined"!=typeof module&&null!==module&&(c=!0),g="undefined"!=typeof exports&&null!==exports?exports:null!=this.Html2Jade?this.Html2Jade:this.Html2Jade={},c?(n=require("fs"),o=require("path"),e=require("he")):(e=he,window.Html2Jade=g),w=2,y=!1,p=!1,h={useNamedReferences:!0},x=/^[\w\-]+$/,T=/^[\w\-]+$/,i=function(){function t(t){this.options=null!=t?t:{},c&&(this.jsdom=require("jsdom-little"))}return t.prototype.parse=function(t,e){var r,i;return t?("file"===this.options.inputType&&(t=n.readFileSync(t,"utf8")),c?this.jsdom.env(t,e):(i={},r=new DOMParser,i.document=r.parseFromString(t,"text/html"),e(null,i))):e("null file")},t}(),f=function(t){return t=t?t.trim():"",t&&x.test(t)},d=function(t){return t=t?t.trim():"",t&&T.test(t)},u=function(){function t(t){var e,n,r;null==t&&(t={}),this.wrapLength=null!=(e=t.wrapLength)?e:80,this.scalate=null!=(n=t.scalate)?n:!1,this.attrSep=this.scalate||t.noattrcomma?" ":", ",t["double"]?(this.attrQuote='"',this.nonAttrQuote="'"):(this.attrQuote="'",this.nonAttrQuote='"'),this.attrQuoteEscaped="\\"+this.attrQuote,this.noEmptyPipe=null!=(r=t.noemptypipe)?r:!1}return t.prototype.tagHead=function(t){var e,n;return e="DIV"!==t.tagName?t.tagName.toLowerCase():"",t.id&&f(t.id)&&(e+="#"+t.id),t.hasAttribute("class")&&t.getAttribute("class").length>0&&(n=t.getAttribute("class").split(/\s+/).filter(function(t){return t&&d(t)}),e+="."+n.join(".")),0===e.length&&(e="div"),e},t.prototype.tagAttr=function(t,e){var n,r,i,o,l,s,u,a;if(null==e&&(e=""),o=t.attributes,o&&0!==o.length){for(s=[],u=0,a=o.length;a>u;u++)n=o[u],n&&n.nodeName&&(r=n.nodeName,i=n.nodeValue,"id"===r&&f(i)||("class"===r?(l=t.getAttribute("class").split(/\s+/).filter(function(t){return t&&!d(t)}),l.length>0&&s.push(this.buildTagAttr(r,l.join(" ")))):(i=i.replace(/(\r|\n)\s*/g,"\\$1"+e),s.push(this.buildTagAttr(r,i)))));return s.length>0?"("+s.join(this.attrSep)+")":""}return""},t.prototype.buildTagAttr=function(t,e){return-1===e.indexOf(this.attrQuote)?t+"="+this.attrQuote+e+this.attrQuote:-1===e.indexOf(this.nonAttrQuote)?t+"="+this.nonAttrQuote+e+this.nonAttrQuote:(e=e.replace(new RegExp(this.attrQuote,"g"),this.attrQuoteEscaped),t+"="+this.attrQuote+e+this.attrQuote)},t.prototype.tagText=function(t){var e,n;return 3!==(null!=(n=t.firstChild)?n.nodeType:void 0)?null:t.firstChild!==t.lastChild?null:(e=t.firstChild.data,e.length>this.wrapLength||e.match(/\r|\n/)?null:e)},t.prototype.forEachChild=function(t,e){var n,r;if(t){for(n=t.firstChild,r=[];n;)e(n),r.push(n=n.nextSibling);return r}},t.prototype.writeTextContent=function(t,e,n){var r=this;return e.enter(),this.forEachChild(t,function(t){return r.writeText(t,e,n)}),e.leave()},t.prototype.writeText=function(t,e,n){var r,i,o=this;return 3===t.nodeType&&(r=t.data||"",r.length>0)?(i=r.split(/\r|\n/),i.forEach(function(r){return o.writeTextLine(t,r,e,n)})):void 0},t.prototype.writeTextLine=function(t,n,r,i){var o,l,s,u,a,p,c,d,f,w,m,g,v,y,T=this;return null==i&&(i={}),u=null!=(d=i.pipe)?d:!0,p=null!=(f=i.trim)?f:!1,c=null!=(w=i.wrap)?w:!0,o=null!=(m=i.encodeEntityRef)?m:!1,l=null!=(g=i.escapeBackslash)?g:!1,u&&this.noEmptyPipe&&0===n.trim().length?void 0:(a=u?"| ":"",1!==(null!=t&&null!=(v=t.previousSibling)?v.nodeType:void 0)&&(n=n.trimLeft()),1!==(null!=t&&null!=(y=t.nextSibling)?y.nodeType:void 0)&&(n=n.trimRight()),n?(o&&(n=e.encode(n,h)),l&&(n=n.replace("\\","\\\\")),!c||n.length<=this.wrapLength?r.writeln(a+n):(s=this.breakLine(n),1===s.length?r.writeln(a+n):s.forEach(function(e){return T.writeTextLine(t,e,r,i)}))):void 0)},t.prototype.breakLine=function(t){var e,n,r;if(!t||0===t.length)return[];if(t.search(!1))return[t];for(e=[],r=t.split(/\s+/),t="";r.length;)n=r.shift(),t.length+n.length>this.wrapLength?(e.push(t),t=n):t.length?t+=" "+n:t=n;return t.length&&e.push(t),e},t}(),m={"-//W3C//DTD XHTML 1.0 Transitional//EN":"transitional","-//W3C//DTD XHTML 1.0 Strict//EN":"strict","-//W3C//DTD XHTML 1.0 Frameset//EN":"frameset","-//W3C//DTD XHTML 1.1//EN":"1.1","-//W3C//DTD XHTML Basic 1.1//EN":"basic","-//WAPFORUM//DTD XHTML Mobile 1.2//EN":"mobile"},v={"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd":"transitional","http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd":"strict","http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd":"frameset","http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd":"1.1","http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd":"basic","http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd":"mobile"},t=function(){function t(t){var e,n;this.options=null!=t?t:{},this.scalate=null!=(e=this.options.scalate)?e:!1,this.writer=null!=(n=this.options.writer)?n:new u(this.options)}return t.prototype.document=function(t,e){var n,r,i,o,l;return null!=t.doctype&&(r=t.doctype,n=void 0,o=r.publicId,l=r.systemId,null!=o&&null!=m[o]?n=m[o]:null!=l&&null!=v[l]?n=null!=v[l]:null!=r.name&&"html"===r.name.toLowerCase()&&(n="html"),null!=n&&e.writeln("doctype "+n)),t.documentElement?this.children(t,e,!1):(i=t.getElementsByTagName("html"),i.length>0?this.element(i[0],e):void 0)},t.prototype.element=function(t,n){var r,i,o,l,s;if(null!=t?t.tagName:void 0)return l=t.tagName.toLowerCase(),o=this.writer.tagHead(t),i=this.writer.tagAttr(t,n.indents),s=this.writer.tagText(t),"script"!==l&&"style"!==l?"conditional"===l?(n.writeln("//"+t.getAttribute("condition")),this.children(t,n)):-1!==["pre"].indexOf(l)?(n.writeln(o+i+"."),n.enter(),r=!0,this.writer.forEachChild(t,function(t){var e;return 3===t.nodeType&&(e=t.data,null!=e&&e.length>0)?(r&&(0===e.search(/\r\n|\r|\n/)&&(e=e.replace(/\r\n|\r|\n/,"")),e="\\n"+e,r=!1),e=e.replace(/\t/g,"\\t"),e=e.replace(/\r\n|\r|\n/g,"\n"+n.indents),n.write(e)):void 0}),n.writeln(),n.leave()):!this.options.bodyless||"html"!==l&&"body"!==l&&"head"!==l?s?n.writeln(p?o+i+" "+s:o+i+" "+e.encode(s,h)):(n.writeln(o+i),this.children(t,n)):this.children(t,n,!1):t.hasAttribute("src")?(n.writeln(o+i),this.writer.writeTextContent(t,n,{pipe:!1,wrap:!1})):"script"===l?this.script(t,n,o,i):"style"===l?this.style(t,n,o,i):void 0},t.prototype.children=function(t,e,n){var r=this;return null==n&&(n=!0),n&&e.enter(),this.writer.forEachChild(t,function(n){var i;return i=n.nodeType,1===i?r.element(n,e):3===i?"code"===t._nodeName?r.text(n,e,{encodeEntityRef:!0,pipe:!0}):r.text(n,e,p?{encodeEntityRef:!1}:{encodeEntityRef:!0}):8===i?r.comment(n,e):void 0}),n?e.leave():void 0},t.prototype.text=function(t,e,n){return t.normalize(),this.writer.writeText(t,e,n)},t.prototype.comment=function(t,e){var n,r,i,o=this;return n=t.data.match(/\s*\[(if\s+[^\]]+)\]/),n?this.conditional(t,n[1],e):(r=t.data||"",0===r.length||-1===r.search(/\r|\n/)?e.writeln("// "+r.trim()):(e.writeln("//"),e.enter(),i=r.split(/\r|\n/),i.forEach(function(n){return o.writer.writeTextLine(t,n,e,{pipe:!1,trim:!0,wrap:!1})}),e.leave()))},t.prototype.conditional=function(t,e,n){var r,i;return i=t.textContent.trim().replace(/\s*\[if\s+[^\]]+\]>\s*/,"").replace("<![endif]",""),0===i.indexOf("<!")&&(e=" ["+e+"] <!",i=null),r=t.ownerDocument.createElement("conditional"),r.setAttribute("condition",e),i&&(r.innerHTML=i),t.parentNode.insertBefore(r,t.nextSibling)},t.prototype.script=function(t,e,n,r){return this.scalate?(e.writeln(":javascript"),this.writer.writeTextContent(t,e,{pipe:!1,wrap:!1})):(e.writeln(""+n+r+"."),this.writer.writeTextContent(t,e,{pipe:!1,trim:!0,wrap:!1,escapeBackslash:!0}))},t.prototype.style=function(t,e,n,r){return this.scalate?(e.writeln(":css"),this.writer.writeTextContent(t,e,{pipe:!1,wrap:!1})):(e.writeln(""+n+r+"."),this.writer.writeTextContent(t,e,{pipe:!1,trim:!0,wrap:!1}))},t}(),r=function(){function t(){this.indents=""}return t.prototype.enter=function(){var t,e,n;if(y)return this.indents+="	";for(n=[],t=e=1;w>=1?w>=e:e>=w;t=w>=1?++e:--e)n.push(this.indents+=" ");return n},t.prototype.leave=function(){return y?this.indents=this.indents.substring(1):this.indents=this.indents.substring(w)},t.prototype.write=function(t,e){null==e&&(e=!0)},t.prototype.writeln=function(t,e){null==e&&(e=!0)},t}(),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.fragments=[]}return D(e,t),e.prototype.write=function(t,e){return null==e&&(e=!0),null==t&&(t=""),this.fragments.push(e?this.indents+t:t)},e.prototype.writeln=function(t,e){return null==e&&(e=!0),null==t&&(t=""),this.fragments.push(e?this.indents+t+"\n":t+"\n")},e.prototype["final"]=function(){var t;return t=this.fragments.join(""),this.fragments=[],t},e}(r),l=function(t){function e(t){this.stream=t,e.__super__.constructor.apply(this,arguments)}return D(e,t),e.prototype.write=function(t,e){return null==e&&(e=!0),null==t&&(t=""),this.stream.write(e?this.indents+t:t)},e.prototype.writeln=function(t,e){return null==e&&(e=!0),null==t&&(t=""),this.stream.write(e?this.indents+t+"\n":t+"\n")},e}(r),g.Output=r,g.StringOutput=s,g.Converter=t,g.Writer=u,a=function(t){return h.useNamedReferences=!t.numeric,t.nspaces&&(w=t.nspaces),t.tabs&&(y=!0),t.donotencode?p=!0:void 0},"undefined"!=typeof exports&&null!==exports&&(g.Parser=i,g.StreamOutput=l,g.convert=function(e,n,r){return null==r&&(r={}),a(r),null==r.parser&&(r.parser=new i(r)),r.parser.parse(e,function(e,i){return(null!=e?e.length:void 0)?e:(null==n&&(n=new l(process.stdout)),null==r.converter&&(r.converter=new t(r)),r.converter.document(i.document,n))})}),g.convertHtml=function(e,n,r){return null==n&&(n={}),a(n),null==n.parser&&(n.parser=new i(n)),n.parser.parse(e,function(e,i){var o,l;return(null!=e?e.length:void 0)?e:(o=null!=(l=n.output)?l:new s,null==n.converter&&(n.converter=new t(n)),n.converter.document(i.document,o),null!=r?r(null,o["final"]()):void 0)})},g.convertDocument=function(e,n,r){var i,o;return null==n&&(n={}),a(n),i=null!=(o=n.output)?o:new s,null==n.converter&&(n.converter=new t(n)),n.converter.document(e,i),null!=r?r(null,i["final"]()):void 0}}).call(this);
//# sourceMappingURL=html2jade.min.js.map